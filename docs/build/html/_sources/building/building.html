<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Building Xfce from source &mdash; Xfce 4.16 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Xfce - Frequently Asked Questions" href="../faq/faq.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Xfce
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/getting-started.html">Getting Started with Xfce</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/faq.html">Xfce - Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building Xfce from source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#choosing-your-xfce-version">Choosing your Xfce version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#obtaining-the-xfce-source-code">Obtaining the Xfce source code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#released-packages">Released packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#from-the-code-repository">From the code repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#xfce-dependencies-explained">Xfce Dependencies explained</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-requirements">Build requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xfce-s-dependency-chain">Xfce’s dependency chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-specific-dependencies">Package specific dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-packages">Building the packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation-location-and-variables">Installation location and variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiling-and-installing">Compiling and installing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#understanding-debug-levels">Understanding Debug levels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#no">no</a></li>
<li class="toctree-l4"><a class="reference internal" href="#minimum">minimum</a></li>
<li class="toctree-l4"><a class="reference internal" href="#yes">yes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#full">full</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#finding-additional-help">Finding additional Help</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Xfce</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Building Xfce from source</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/building/building.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="building-xfce-from-source">
<h1>Building Xfce from source<a class="headerlink" href="#building-xfce-from-source" title="Permalink to this headline"></a></h1>
<p>To compile a complete Xfce desktop from source requires some information about the dependency chain and the various configure options available in each module. This page will describe this in detail, so you can compile your own Xfce desktop; both system wide as well as in your $HOME directory.</p>
<blockquote>
<div><ul class="simple">
<li><p>Choosing your Xfce version</p></li>
<li><p>Obtaining the Xfce source code</p></li>
<li><p>Xfce dependencies explained</p></li>
<li><p>Building the packages</p></li>
<li><p>Finding additional help</p></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<section id="choosing-your-xfce-version">
<h2>Choosing your Xfce version<a class="headerlink" href="#choosing-your-xfce-version" title="Permalink to this headline"></a></h2>
<p>First you will need to decide on which version of Xfce that you want to compile. Xfce version numbers are constructed like this: 1.2.3 =&gt; major.minor.micro. If the minor version is an even number, this means that it is a stable release. An odd numbered minor version indicate a development, or testing snapshots. The micro number increases with each release. Also, it is recommended to keep the major.minor version the same for the core components (some packages don’t follow those numbers) or there will most likely be dependency version problems during compilation.</p>
<p>The latest releases available can be found on the [[<a class="reference external" href="https://www.xfce.org">https://www.xfce.org</a>/download|download]] page. You can also build from the source repositories if you have enough experience. Additional information about this is provided below.</p>
</section>
<hr class="docutils" />
<section id="obtaining-the-xfce-source-code">
<h2>Obtaining the Xfce source code<a class="headerlink" href="#obtaining-the-xfce-source-code" title="Permalink to this headline"></a></h2>
<p>Once you have decided which version that you want to compile, there are a couple of ways to download the source code. You can either choose to build official released packages, or clone the source repositories. Choosing the released packages is the recommended option. The source repositories could possibly be broken and are not generally suitable for production environments. However, they always contain the latest features, bug fixes and translations.</p>
<p>If you are not sure which to choose, it is easiest to begin with the latest stable fat-tarball of a collection release.</p>
<section id="released-packages">
<h3>Released packages<a class="headerlink" href="#released-packages" title="Permalink to this headline"></a></h3>
<p>Xfce packages have two types of releases: collection releases and individual releases. Click the links below to open the relevant download location.</p>
<ul class="simple">
<li><p>[[<a class="reference external" href="https://archive.xfce.org/xfce/">https://archive.xfce.org/xfce/</a><a href="#id1"><span class="problematic" id="id2">|</span></a>Collection releases of the core modules]]
From time to time a new collection release of Xfce is made. A collection release consists of a number of individual tarballs and a fat-tarball that contains all of the individual tarballs.
The collection releases always contains the correct versions needed to build the other packages in the release. If you want the latest version of each package, you can start with a collection release and then look for individual bug fix releases, explained in the item below.</p></li>
<li><p>[[<a class="reference external" href="https://archive.xfce.org/src/xfce/">https://archive.xfce.org/src/xfce/</a><a href="#id3"><span class="problematic" id="id4">|</span></a>Individual releases]]
Each package in Xfce is allowed to make development and stable releases at any time, see the [[<a class="reference external" href="http://xfce.org/about">http://xfce.org/about</a>/releasemodel|release model]] documentation for more information.</p></li>
</ul>
</section>
<section id="from-the-code-repository">
<h3>From the code repository<a class="headerlink" href="#from-the-code-repository" title="Permalink to this headline"></a></h3>
<p>For the latest code, you need to make local copies of the [[<a class="reference external" href="https://gitlab.xfce.org/">https://gitlab.xfce.org/</a><a href="#id5"><span class="problematic" id="id6">|</span></a>GIT repositories]]. This is the place where developers submit their code. If you decide to use GIT, try to use the same branch for all the packages to avoid dependency version problems.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For additional information about using Git with Xfce, see the [[<a class="reference external" href="https://docs.xfce.org/contribute/dev/git">https://docs.xfce.org/contribute/dev/git</a>/start|Xfce and git information]] page.</p>
</div>
<p>You first need to make clones of each GIT repository, like the command below, where ‘’$category’’ is for example ‘’xfce’’ and ‘’$module’’ ‘’xfce4-panel’’. If you click on a module in the [[<a class="reference external" href="https://gitlab.xfce.org">https://gitlab.xfce.org</a>/xfce|online repository]] list, the clone uri is shown at the bottom of the page.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>git clone https://gitlab.xfce.org/$category/$module
</pre></div>
</div>
<p>After the repository is cloned, you will need to choose which branch you want to compile. By default, the ‘’master’’ branch is selected, but there are also branches for stable releases like ‘’xfce-4.16’’. The stable branches contain the latest bug fixes without any major new features, the master branch is the development version for the next release of Xfce. Both should not be used in a production environment.</p>
<p>To switch to another branch (‘’git branch -a’’ lists all available branches) run the following command inside the cloned directory to switch to, for example, the ‘’xfce-4.16’’ branch:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>git checkout --track origin/xfce-4.16
</pre></div>
</div>
<p>After this, you can update your local copy of the repository with git pull and switch to another branch with ‘’git checkout $branchname’’. Read the [[<a class="reference external" href="http://git-scm.com">http://git-scm.com</a>/documentation|GIT manuals]] for more information about using GIT.</p>
<p>Back To Top</p>
</section>
</section>
<hr class="docutils" />
<section id="xfce-dependencies-explained">
<h2>Xfce Dependencies explained<a class="headerlink" href="#xfce-dependencies-explained" title="Permalink to this headline"></a></h2>
<section id="build-requirements">
<h3>Build requirements<a class="headerlink" href="#build-requirements" title="Permalink to this headline"></a></h3>
<p>Before you can start compiling, you need a couple of packages that are required to compile Xfce. Use your distributions package manager to install those packages. Additional packages are required too for some modules, but we’ll get to that later.</p>
<ul class="simple">
<li><p>[[<a class="reference external" href="http://en.wikipedia.org/wiki">http://en.wikipedia.org/wiki</a>/GNU_toolchain|A working GNU toolchain]]</p></li>
<li><dl class="simple">
<dt>Gtk+ and Glib headers, in some distributions called the -devel packages</dt><dd><ul>
<li><p>Xfce 4.14 requires Gtk+ 3.22 and Glib 2.50</p></li>
<li><p>pkgconfig</p></li>
<li><p>Coffee or tea</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>For history, here are the versions needed for older xfce releases, which are not supported anymore</p>
<ul class="simple">
<li><p>Xfce 4.16 requires Gtk+ 3.22 and Glib 2.42</p></li>
<li><p>Xfce 4.12 requires Gtk+ 2.24 and Glib</p></li>
<li><p>Xfce 4.10 requires Gtk+ 2.20 and Glib 2.24</p></li>
<li><p>Xfce 4.8 requires Gtk+ 2.14 and Glib 2.20</p></li>
<li><p>Xfce 4.6 requires Gtk+ 2.10 and Glib 2.12</p></li>
</ul>
</section>
<section id="xfce-s-dependency-chain">
<h3>Xfce’s dependency chain<a class="headerlink" href="#xfce-s-dependency-chain" title="Permalink to this headline"></a></h3>
<p>The Xfce packages need to be built in a specific order. If you don’t follow this, compile options might not be available or the configure stage will abort because of missing dependencies.</p>
<ul class="simple">
<li><p>xfce4-dev-tools (only required if you build from GIT)</p></li>
<li><p>libxfce4util</p></li>
<li><p>xfconf</p></li>
<li><p>libxfce4ui</p></li>
<li><p>garcon, exo</p></li>
<li><p>thunar</p></li>
<li><p>xfce4-panel, xfce4-settings, xfce4-session, xfdesktop, xfwm4, xfce4-appfinder, tumbler…</p></li>
</ul>
</section>
<section id="package-specific-dependencies">
<h3>Package specific dependencies<a class="headerlink" href="#package-specific-dependencies" title="Permalink to this headline"></a></h3>
<p>Some core packages in Xfce have additional or optional dependencies, all are listed in the table below for the latest stable version. We only show the top-dependency (so xfce4-panel also requires gtk+, but libxfce4ui already depends on that).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Note that some of the package-names may vary between distributions.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Dependency(-ies)</p></th>
<th class="head"><p>Optional Dependency(-ies)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>xfce4-dev-tools</p></td>
<td><p>autoconf, automake, intltool, pkgconfig</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>libxfce4util</p></td>
<td><p>glib2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>xfconf</p></td>
<td><p>libxfce4util, gdbus</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>libxfce4ui</p></td>
<td><p>libxfce4util, gtk+, xfconf, glibtop</p></td>
<td><p>libstartup-notification, libgladeui</p></td>
</tr>
<tr class="row-even"><td><p>garcon</p></td>
<td><p>gio, libxfce4util</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>exo</p></td>
<td><p>libxfce4util, gtk+, perl-uri, libxfce4ui</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>xfce4-panel</p></td>
<td><p>libxfce4ui, exo, garcon, libwnck</p></td>
<td><p>libstartup-notification</p></td>
</tr>
<tr class="row-odd"><td><p>thunar</p></td>
<td><p>libxfce4ui, exo, libpng, gtk+, glib</p></td>
<td><p>libexif, gdbus, libnotify, libstartup-notification, freetype, libjpeg, libxfce4panel, xfconf</p></td>
</tr>
<tr class="row-even"><td><p>xfce4-settings</p></td>
<td><p>libxfce4ui, exo, xfconf, gdbus, libXi, libXrandr</p></td>
<td><p>libXcursor, libnotify</p></td>
</tr>
<tr class="row-odd"><td><p>xfce4-session</p></td>
<td><p>libxfce4ui, perl-xml-parser, libwnck, gdbus</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>xfwm4</p></td>
<td><p>libxfce4util, libxfce4ui, libxfconf, gdbus, libwnck</p></td>
<td><p>libstartup-notification</p></td>
</tr>
<tr class="row-odd"><td><p>xfdesktop</p></td>
<td><p>libxfce4ui, xfconf, libwnck, exo garcon</p></td>
<td><p>thunarx, garcon, libnotify</p></td>
</tr>
<tr class="row-even"><td><p>xfce4-appfinder</p></td>
<td><p>libxfce4ui, garcon, gio</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>tumbler</p></td>
<td><p>dbus-glib, gio, gmodule, gdk-pixbuf</p></td>
<td><p>freetype-config (fonts), jpeg (jpeg thumbnails from exif), libffmpegthumbnailer (video), gstreamer-1.0 (video), poppler-glib (pdf), libgsf (odf), libopenraw-gnome (various raw images)</p></td>
</tr>
</tbody>
</table>
<p>[[<a href="#id7"><span class="problematic" id="id8">|</span></a>Back To Top]]</p>
</section>
</section>
<hr class="docutils" />
<section id="building-the-packages">
<h2>Building the packages<a class="headerlink" href="#building-the-packages" title="Permalink to this headline"></a></h2>
<section id="installation-location-and-variables">
<h3>Installation location and variables<a class="headerlink" href="#installation-location-and-variables" title="Permalink to this headline"></a></h3>
<p>Now it is finally time to start compiling the Xfce desktop. Last remaining thing is to choose an installation location. Possible examples are ‘’/usr’’, ‘’/usr/local’’ and ‘’/opt/xfce4’’ for a system-wide installation or ‘’$HOME/local’’ if you want to install in your home directory (whatever you choose, never put spaces in the name). We will refer to this location as ${PREFIX} in the code examples below!</p>
<p>You need to make sure the ‘’PKG_CONFIG_PATH’’ variable include the path to the <a href="#id9"><span class="problematic" id="id10">*</span></a>.pc files installed by the Xfce libraries:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>export PKG_CONFIG_PATH=&quot;${PREFIX}/lib/pkgconfig:$PKG_CONFIG_PATH&quot;
</pre></div>
</div>
<p>You can also set some optimization flags for the compiler. This may speed up Xfce, but can also make debugging impossible on some systems. Even worse, this can also cause gcc to generate broken code, so be careful with this. The line below should be safe for most system.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>export CFLAGS=&quot;-O2 -pipe&quot;
</pre></div>
</div>
<p>If you want a debugging environment, unset the CFLAGS and use ‘’%%–enable-debug%%’’, see below for the different debug levels.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>export CFLAGS=&quot;&quot;
</pre></div>
</div>
</section>
<section id="compiling-and-installing">
<h3>Compiling and installing<a class="headerlink" href="#compiling-and-installing" title="Permalink to this headline"></a></h3>
<p>Next step is compiling the various packages following the dependency chain above. If you have downloaded the tarballs, you will need to unpack them before going on. Inside each package directory you should run the following command:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>./configure --prefix=${PREFIX} &amp;&amp; make &amp;&amp; make install
</pre></div>
</div>
<p>To build from GIT you need to install the xfce4-dev-tools package first, all other packages should be installed with this command:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>./autogen.sh --prefix=${PREFIX} &amp;&amp; make &amp;&amp; make install
</pre></div>
</div>
<p>Specific configure options for each package can be shown with ‘’%%./configure –help%%’’. Note that most packages will see a performance benefit if passed the configure option ‘’%%–disable-debug%%’’.</p>
<p>However, if you want to provide backtraces or test new code, no ‘’$CFLAGS’’, no binary stripping and ‘’%%–enable-debug=full%%’’ are recommended. Please note that ‘’%%–disable-debug%%’’ is not available for xfce4-dev-tools.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When reusing the ‘’%%./configure%%’’ script while building from GIT remember to pass the flag ‘’%%–enable-maintainer-mode%%’’.</p>
</div>
<p>If you install the package in a public prefix, for example ‘’/usr’’ or ‘’/usr/local’’, you will need to run ‘’make install’’ using sudo. This way, you will be asked for the system administrator password and will have write permissions to install in those locations.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>sudo make install
</pre></div>
</div>
</section>
<section id="understanding-debug-levels">
<h3>Understanding Debug levels<a class="headerlink" href="#understanding-debug-levels" title="Permalink to this headline"></a></h3>
<p>Most Xfce modules use the m4 macro //XDT_FEATURE_DEBUG// to manage the debug compiler levels. If so there are a number of options possible for ‘’%%–enable-debug=%%’’</p>
<section id="no">
<h4>no<a class="headerlink" href="#no" title="Permalink to this headline"></a></h4>
<blockquote>
<div><p>Cast checks and asserts in the Glib macros are disabled, this might be a tad faster, but it can results in segfaults and unexpected crashes.</p>
</div></blockquote>
</section>
<section id="minimum">
<h4>minimum<a class="headerlink" href="#minimum" title="Permalink to this headline"></a></h4>
<blockquote>
<div><p>This is the same as ‘’%%–disable-debug%%’’. No additional compiler options are added, but checks in Glib are not disabled. This is the recommended level for users and distributions.</p>
</div></blockquote>
</section>
<section id="yes">
<h4>yes<a class="headerlink" href="#yes" title="Permalink to this headline"></a></h4>
<blockquote>
<div><p>A number of ‘’$CFLAGS’’ are set to check the code for different errors. During configure you’ll see all the options are tested to avoid binaries that do not work.</p>
</div></blockquote>
</section>
<section id="full">
<h4>full<a class="headerlink" href="#full" title="Permalink to this headline"></a></h4>
<blockquote>
<div><p>Same as the level above, including ‘’-Werror’’ so the compilers aborts during compiler errors. The compiler will also generate binaries with debug information suitable for [[:contribute:bugs:<a href="#id11"><span class="problematic" id="id12">|</span></a>backtraces]] and memory checks. This is the recommended level for developers or users who want to report bugs.</p>
</div></blockquote>
<p>[[<a href="#id13"><span class="problematic" id="id14">|</span></a>Back To Top]]</p>
</section>
</section>
</section>
<hr class="docutils" />
<section id="finding-additional-help">
<h2>Finding additional Help<a class="headerlink" href="#finding-additional-help" title="Permalink to this headline"></a></h2>
<p>Hopefully everything went fine after reading this guide. If you still have problems or questions you can ask on the [[<a class="reference external" href="https://www.xfce.org">https://www.xfce.org</a>/community#mail|Xfce users mailing list]], the [[<a class="reference external" href="https://forum.xfce">https://forum.xfce</a>.org|forum]] or ask distribution related questions on their forums and mailing lists.</p>
<p>Have fun building Xfce!</p>
<p>[[<a href="#id15"><span class="problematic" id="id16">|</span></a>Back To Top]]</p>
<hr class="docutils" />
<p>[[:start|Back to main Xfce documentation page]]</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../faq/faq.html" class="btn btn-neutral float-left" title="Xfce - Frequently Asked Questions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Xfcedeveloper.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>